# Клиент/Ответы

Чтобы упростить работу с ответами, которые могут содержать либо `result`, либо `error` и содержать разные типы данных, методы клиента возвращают специальные объекты - `ISingleJsonRpcResult` и `IBatchJsonRpcResult`. Эти интерфейсы предоставляют несколько методов для простого доступа к результатам запроса.

*Все методы `IBatchJsonRpcResult` идентичны `ISingleJsonRpcResult`, за исключением того, что они принимают аргумент с идентификатором ответа*

### `GetResponseOrThrow<TResponse>()`

Если ответ успешный - десериализует поле `result` в тип `TResponse`.

Если ответ с ошибкой - выкидывает `JsonRpcException` с полем `Context`, которое содержит всю информацию о запросе и ответе.

Если в batch нет ответа с указанным `id` - выкидывает `JsonRpcException` с полем `Context`, которое содержит всю информацию о запросе и ответе.

### `AsResponse<TResponse>()`

Если ответ успешный - десериализует поле `result` в тип `TResponse`.

Если ответ с ошибкой - возвращает `default(TResponse)`.

Если в batch нет ответа с указанным `id` - возвращает `default(TResponse)`.

### `HasError()`

Если ответ успешный - возвращает `false`.

Если ответ с ошибкой - возвращает `true`.

Если в batch нет ответа с указанным `id` - выкидывает `JsonRpcException` с полем `Context`, которое содержит всю информацию о запросе и ответе.

### `AsAnyError()`

Если ответ успешный - возвращает `null`.

Если ответ с ошибкой - возвращает сырую `Error<JsonDocument>` без десериализации поля `error.data`.

Если в batch нет ответа с указанным `id` - возвращает `null`.

### `AsTypedError<TError>()`

Если ответ успешный - возвращает `null`.

Если ответ с ошибкой - возвращает `Error<TError>` с десериализованным полем `error.data`.

Если в batch нет ответа с указанным `id` - возвращает `null`.

### `AsErrorWithExceptionInfo()`

Тоже самое, что и `AsTypedError<ExceptionInfo>()`.