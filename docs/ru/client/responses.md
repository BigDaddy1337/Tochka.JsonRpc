# Клиент/Ответы

Чтобы упростить работу с ответами, которые могут содержать либо `result`, либо `error` и содержать разные типы данных, методы клиента возвращают специальные объекты - `ISingleJsonRpcResult` и `IBatchJsonRpcResult`. Эти интерфейсы предоставляют несколько методов для простого доступа к результатам запроса.

*Все методы `IBatchJsonRpcResult` идентичны `ISingleJsonRpcResult`, за исключением того, что они принимают аргумент с идентификатором ответа*

### `GetResponseOrThrow<TResponse>()`

В случае успешного ответа - десериализует поле `result` к указанному типу `TResponse`.

В случае ответа с ошибкой - выкидывает `JsonRpcException` с полем `Context`, которое содержит всю информацию о запросе и ответе.

Если в батче нет ответа с указанным `id` - выкидывает `JsonRpcException` с полем `Context`, которое содержит всю информацию о запросе и ответе.

### `AsResponse<TResponse>()`

В случае успешного ответа - десериализует поле `result` к указанному типу `TResponse`.

В случае ответа с ошибкой - возвращает `default(TResponse)`.

Если в батче нет ответа с указанным `id` - возвращает `default(TResponse)`.

### `HasError()`

В случае успешного ответа - возвращает `false`.

В случае ответа с ошибкой - возвращает `true`.

Если в батче нет ответа с указанным `id` - выкидывает `JsonRpcException` с полем `Context`, которое содержит всю информацию о запросе и ответе.

### `AsAnyError()`

В случае успешного ответа - возвращает `null`.

В случае ответа с ошибкой - возвращает сырую `Error<JsonDocument>` без десериализации поля `error.data`.

Если в батче нет ответа с указанным `id` - возвращает `null`.

### `AsTypedError<TError>()`

В случае успешного ответа - возвращает `null`.

В случае ответа с ошибкой - возвращает `Error<TError>` с десериализованным полем `error.data`.

Если в батче нет ответа с указанным `id` - возвращает `null`.

### `AsErrorWithExceptionInfo()`

Тоже самое, что и `AsTypedError<ExceptionInfo>()`.